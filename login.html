<!DOCTYPE html>

<html>
 
<head>

<meta charset="UTF-8">

<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

   <title>figma</title>

<meta name="description" content=>
<meta name="generator" content=META_GENERATOR>

<!-- Apple Stuff -->
<meta name="apple-mobile-web-app-capable" content=APPLE_MOBILE_WEB_APP_CAPABLE>
<meta name="apple-mobile-web-app-status-bar-style" content=APPLE_MOBILE_WEB_APP_STATUS_BAR_STYLE>
<meta name="apple-mobile-web-app-title" content=>

<!-- Google / Search Engine Tags -->
<meta itemprop="name" content=>
<meta itemprop="description" content=>
<meta itemprop="image" content=ITEMPROP_IMAGE>

<!-- MS Tile - for Microsoft apps-->
<meta name="msapplication-TileImage" content=MSAPPLICATION_TILE_IMAGE>

<!-- Facebook Meta Tags -->
<meta property="og:type" content=OG_TYPE>
<meta property="og:title" content=>
<meta property="og:description" content=>
<meta property="og:image" content=OG_MAGE>
<meta property="og:url" content=OG_URL>

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content=TWITTER_CARD>
<meta name="twitter:title" content=>
<meta name="twitter:description" content=>
<meta name="twitter:image" content=TWITTER_IMAGE>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Comfortaa:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Handlee&family=Josefin+Sans:wght@100;200;300;400;500;600;700&family=Lato:wght@100;300;400;700;900&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Mulish:wght@200;300;400;500;600;700;800;900;1000&family=Nunito:wght@200;300;400;500;600;700;800;900;1000&family=Orbitron:wght@400;500;600;700;800;900&family=Parisienne&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Preahvihear&family=Raleway:wght@100;200;400&family=Roboto:wght@100;300;400;500;700;900&family=Satisfy&family=Tektur:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="icon" type="image/png" href="images/favicon.png">

<script type="application/ld+json">
   {
       "@context":"http://schema.org",
       "@type":"WebPage",
       "url":https://www.shopiana.in,
       "description":DESCRIPITION,
       "name":,
       "image":https://www.shopiana.in/assets/imgs/slider/logo/shopiana_dark_logo_2.png
   }
</script>

   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:regular&amp;subset=latin&amp;display=swap"/>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:regular,700&amp;subset=latin&amp;display=swap"/>
 
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<style type="text/css">

* { box-sizing: border-box; } body {margin: 0;}#ip3tyz{display:flex;justify-content:center;align-content:center;width:100vw;height:100vh;}#itc696{display:flex;}#i9sawk{display:flex;}#i7a16r{border-radius:15px 15px 15px 15px;}#iyigyz{margin:40px 0px 0px 0px;}#ijts0l{display:flex;flex-direction:column;align-content:center;justify-content:center;}#i8thuw{width:100%;background-color:#2f3862;color:white;font-family:Comic Sans MS, cursive, sans-serif;font-weight:700;}#iq7c9u{display:flex;}#iw9fsg{font-family:Comic Sans MS, cursive, sans-serif;font-weight:700;}#ibegtf{padding:2px;text-align:left;letter-spacing:1px;font-size:27px;font-family:Comic Sans MS, cursive, sans-serif;font-weight:700;}#in8aje{color:black;}@media only screen and (max-width: 992px){.hamburger1.active .bar1:nth-child(2){opacity:0;}.hamburger1.active .bar1:nth-child(1){transform:translateY(8px) rotate(45deg);}.hamburger1.active .bar1:nth-child(3){transform:translateY(-8px) rotate(-45deg);}}

</style>

</head>
		<html>
 <head></head>
 <body id="ijuxnh">
  <div id="ip3tyz" class="container px-4 py-2">
   <div id="iyigyz" class="row p-2 row-cols-md-2">
    <div id="itc696" class="col-sm-8 col-12">
     <section id="i7a16r" class="container-fluid d-flex justify-content-center align-items-center py-5 bg-light">
      <div id="i1t1zt" class="d-flex justify-content-center align-items-center flex-column my-5 w-75">
       <h1 id="iw9fsg" class="h1">Shopiana</h1>
       <p id="icchly" class="px-sm-4 px-1 mt-3 mb-4 text-center">Welcome visitors to your site with a short, engaging introduction. Double click to edit and add your own text.</p>
      </div>
     </section>
    </div>
    <div id="iq7c9u" class="col-sm-4 col-12">
     <div id="i9sawk">
      <form id="ijts0l">
       <div id="ibegtf">
        Login into store
       </div>
       <div id="ibg8g2" class="mb-3">
        <label for="username" id="i5rpjv" class="form-label">Mobile number</label><input type="number" required id="exampleInputPassword1" name="username" placeholder="enter your mobile number" class="form-control">
        <div id="emailHelp" class="form-text">
         We'll never share your email with anyone else.
        </div>
       </div>
       <div id="imh017" class="mb-3">
        <label for="password" id="iv0v48" class="form-label">Password</label><input type="password" required name="password" placeholder="enter your pin" id="iqip5m" class="form-control">
       </div>
       <div action-type="sign-in" button-type="auth" id="ik14gm">
        <button type="submit" id="i8thuw" class="btn">Login</button>
       </div>
       <div id="i2kyu6" class="d-flex gap-4">
        <a id="in8aje" class="ml-4 btn">forgot pin</a><a id="ieu5is" class="btn">Register</a>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>
  <script>var props = {"ijts0l":{"name":"loginform","target":"_self","method":"POST","emailenable":false,"formType":"SIMPLE_FORM","websiteId":362,"merchantCode":"figma23081404","formInitUrl":"https://devapi.shopiana.in/api/v1/website/form/payment/init?store=figma23081404","paymentCaputreUrl":"https://devapi.shopiana.in/api/v1/website/form/payment/capture?store=figma23081404","formDataurl":"https://devapi.shopiana.in/api/v1/wbWebsite/362/form/formData?store=figma23081404","websiteName":"figma","websiteNumber":"7014405637","websiteEmail":"test@gmail.com"}};
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (function ({
    name,
    target,
    method,
    formDataurl,
    emailenable,
    websiteId,
    merchantCode,
    formInitUrl,
    paymentCaputreUrl,
    formType,
    price,
    websiteNumber,
    websiteName,
    websiteEmail,
    emailTemplateId
  }) {
    console.log(price);
    const form = this;
    this.addEventListener('submit', e => {
      e.preventDefault(); // Prevent the default form submission

      if (!(name && price)) {
        alert('Oops! We encountered a problem. Please check form name and price.');
        return;
      }

      if (!(name && websiteId && formType && formDataurl && formInitUrl && paymentCaputreUrl)) {
        alert("Oops! We encountered a problem. Please try again later.");
        return;
      }

      const PAYMENT = {
        COD_UPPERCASE: "COD",
        COD: "cod",
        AUTHORIZECAPTURE: "AUTHORIZECAPTURE",
        ONLINEPAYMENT: "ONLINEPAYMENT",
        RAZORPAY: "razorpay",
        RAZORPAY_UPPERCASE: "RAZORPAY",
        PAYMENT_INITIALIZATION: "payment/init",
        INIT: "INIT",
        PRIMARY_CARD: "primary",
        PAYMENT_FAILED: "payment.failed",
        RECEIPT_ORDER: "receipt_order_",
        RAZOR_PAY_SUCCESSFULL: "onRazorPaySuccess",
        SHIPPING: "Shipping",
        SECONDARY_CARD: "secondary"
      }; // Add Razorpay script dynamically

      const razorpayScript = document.createElement('script');
      razorpayScript.src = 'https://checkout.razorpay.com/v1/checkout.js';
      razorpayScript.async = true; // Append the script to the document's head

      document.head.appendChild(razorpayScript);
      const formData = new FormData(form); // Create an object to store input values
      // const formData = {};
      // Loop through the form elements

      for (let i = 0; i < form.elements.length; i++) {
        const element = form.elements[i]; // Check if the element has a name and is an input, textarea, select, or checkbox

        if (element.name) {
          if (element.tagName === 'INPUT') {
            // Check the input type
            if (element.type === 'text' || element.type === 'number' || element.type === 'email') {
              // Text inputs
              formData[element.name] = element.value;
            } else if (element.type === 'checkbox') {
              // Checkboxes
              formData[element.name] = element.checked;
            }
          } else if (element.tagName === 'TEXTAREA') {
            // Textareas
            formData[element.name] = element.value;
          } else if (element.tagName === 'SELECT') {
            // Select elements
            formData[element.name] = element.value;
          }
        }
      } // Create a new FormData object


      formData.append('formName', name);
      formData.append('price', price);

      if (emailenable && emailTemplateId > 0) {
        formData.append('emailEnabled', emailenable);
        formData.append('emailTemplateId', emailTemplateId);
      } // Perform an API call using fetch and Promises


      fetch(formDataurl, {
        method: "POST",
        // headers: {
        //     'Content-Type': 'application/json',
        // },
        body: formData
      }).then(response => {
        if (response.ok) {
          // API call successful
          return response.json();
        } else {
          // API call failed
          throw new Error('API call failed');
        }
      }).then(formDataResponse => {
        // IF IT IS A SIMPLE DATA FORM NOT A PAYMENT FORM
        if (formType === "SIMPLE_FORM") {
          form.reset();
          alert("details saved successfully");
          return;
        } // Define the URL and data for the POST request


        const data = {
          websiteFormId: formDataResponse === null || formDataResponse === void 0 ? void 0 : formDataResponse.id,
          amount: formDataResponse === null || formDataResponse === void 0 ? void 0 : formDataResponse.price,
          websiteId: websiteId,
          integrationKeys: {},
          paymentId: "",
          paymentModule: "wb_razorpay",
          paymentToken: "",
          paymentType: "ONLINEPAYMENT"
        }; // Create headers for the request

        const headers = new Headers();
        headers.append('Content-Type', 'application/json'); // Create the request configuration

        const requestOptions = {
          method: 'POST',
          headers: headers,
          body: JSON.stringify(data)
        };
        fetch(formInitUrl, requestOptions).then(response => {
          if (response.ok) {
            // API call successful
            return response.json();
          } else {
            // API call failed
            throw new Error('API call failed');
          }
        }).then(order => {
          var _a;

          try {
            if (order) {
              // const details = JSON.parse(order.details);
              const details = {}; // razorpay payment options

              const options = {
                key: (_a = order === null || order === void 0 ? void 0 : order.metadata) === null || _a === void 0 ? void 0 : _a.keyId,
                amount: details === null || details === void 0 ? void 0 : details.amount,
                currency: "INR",
                name: "NJ collections",
                description: '',
                image: '',
                order_id: order === null || order === void 0 ? void 0 : order.paymentToken,
                receipt: PAYMENT.RECEIPT_ORDER + (order === null || order === void 0 ? void 0 : order.orderId),
                handler: handlerResponse => {
                  const paymentCaptureData = {
                    amount: order === null || order === void 0 ? void 0 : order.amount,
                    integrationKeys: {},
                    paymentId: handlerResponse === null || handlerResponse === void 0 ? void 0 : handlerResponse.razorpay_payment_id,
                    paymentModule: "wb_razorpay",
                    paymentToken: handlerResponse === null || handlerResponse === void 0 ? void 0 : handlerResponse.razorpay_order_id,
                    paymentType: "ONLINEPAYMENT",
                    websiteFormId: formDataResponse === null || formDataResponse === void 0 ? void 0 : formDataResponse.id,
                    websiteId: websiteId,
                    signature: handlerResponse === null || handlerResponse === void 0 ? void 0 : handlerResponse.razorpay_signature,
                    transactionType: PAYMENT.AUTHORIZECAPTURE
                  };
                  const requestOptions = {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify(paymentCaptureData)
                  };
                  fetch(paymentCaputreUrl, requestOptions).then(response => {
                    if (response.ok) {
                      // API call successful
                      return response.json();
                    } else {
                      // API call failed
                      throw new Error('API call failed');
                    }
                  }).then(responseData => {
                    form.reset();
                    alert("payment Received");
                  }).catch(error => {
                    console.log(error);
                  });
                },
                prefill: {
                  name: websiteName,
                  email: websiteEmail,
                  contact: websiteNumber
                },
                theme: {
                  color: '#3399cc'
                }
              }; // razorpay object initalize

              const rzp1 = new window.Razorpay(options); // init razopay payment window 

              rzp1.open(); // handle

              rzp1.on(PAYMENT.PAYMENT_FAILED, function (response) {
                alert(response.error.description);
              });
            } else {
              const errorMessage = 'PICKBAZAR_ERROR.SOMETHING_WENT_WRONG'; // toast.error(errorMessage);

              console.log(errorMessage);
            }
          } catch (error) {
            console.log(error);
          }
        }).catch(error => {
          console.error('Error during API call:', error);
        }); // await handlePlaceOrder();
        // Your custom script logic here
      }).catch(error => {
        console.error('Error during API call:', error);
      });
    }); // }
  }.bind(el))(props[el.id]);
          }</script>
 </body>
</html>
</html>